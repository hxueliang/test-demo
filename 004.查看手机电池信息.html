<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
  <script>
    // VConsole will be exported to `window.VConsole` by default.
    var vConsole = new window.VConsole();
  </script>
  <script>
    navigator.getBattery().then(r => {
      console.log(r.charging, '是否在充电');
      console.log(r.chargingTime, '充满电还需要的时间(秒)');
      console.log(r.dischargingTime, '电池剩余可用时间(秒)');
      console.log(r.level, '剩余电量,最大电量就是1');

      r.onchargingchange = function(e) {
        console.log(e, '电状态改变时触发该监听函数');
      }
      r.onchargingtimechange = function(e) {
        console.log(e, '充满还需时间改变时触发该监听函数');
      }
      r.ondischargingtimechange = function(e) {
        console.log(e, '电池剩余可用时间改变时触发该监听函数');
      }
      r.onlevelchange = function(e) {
        console.log(e, '电量改变时触发该监听函数');
      }
    });
  </script>
</body>
</html>